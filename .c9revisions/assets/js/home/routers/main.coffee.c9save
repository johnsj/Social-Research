{"ts":1345452073945,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":true,"ts":1345452075438,"patch":[[{"diffs":[[1,"window.Risk = window.Risk || {}\r\nwindow.Risk.routers = window.Risk.routers || {}\r\n\r\nclass MainRouter extends Backbone.Router\r\n\r\n  routes:\r\n    \"categories\": \"categories\"\r\n    \"categories/new\": \"formCategory\"\r\n    \"categories/:id\": \"category\"\r\n    \"categories/edit/:id\": \"editFormCategory\"\r\n    \"categories/:id/delete\": \"deleteCategory\"\r\n    \"metacategories\": \"metacategories\"\r\n    \"metacategories/new\": \"metaFormCategory\"\r\n    \"metacategories/:id\": \"metacategory\"\r\n    \"metacategories/edit/:id\": \"editMetaFormCategory\"\r\n    \"metacategories/delete/:id\": \"deleteMetaCategory\"\r\n\r\n  initialize:->\r\n    @collection = window.Risk.collections.Categories\r\n    @collection.fetch()\r\n    @metacollection = window.Risk.collections.MetaCategories\r\n\r\n  categories:()->\r\n    @collection.fetch\r\n      success:->  \r\n        categoriesView = window.Risk.views.CategoriesView\r\n        window.Application.showView categoriesView\r\n\r\n  formCategory:()->\r\n    formView = window.Risk.views.CategoryFormView\r\n    window.Application.showView formView  \r\n\r\n  metaFormCategory:()->\r\n    formView = window.Risk.views.MetaCategoryFormView\r\n    window.Application.showView formView\r\n\r\n  editFormCategory:(id)->\r\n    @collection.fetch\r\n      success:(collection, response)=>\r\n        model = collection.where({_id: id})[0]\r\n        editView = window.Risk.views.CategoryEditView\r\n        window.Application.showView editView, {model:model}\r\n\r\n  editMetaFormCategory:(id)->\r\n    @metacollection.fetch\r\n      success:(collection, response)=>\r\n        model = collection.where({_id: id})[0]\r\n        editView = window.Risk.views.MetaCategoryEditView\r\n        window.Application.showView editView, {model:model}\r\n\r\n\r\n  metacategories:()->\r\n    @metacollection.fetch\r\n      success:->  \r\n        metaCategoriesView = window.Risk.views.MetaCategoriesView\r\n        window.Application.showView metaCategoriesView\r\n\r\n  category:(id)->\r\n    @collection.fetch\r\n      success:(collection, response)->\r\n        model = collection.where({_id:id})[0]\r\n        formView = window.Risk.views.CategoryDetailView\r\n        window.Application.showView formView, {model: model}\r\n\r\nwindow.Risk.routers.MainRouter = MainRouter"]],"start1":0,"start2":0,"length1":0,"length2":2168}]],"length":2168,"saved":false}
